# Climb Intermediate Project - 信号合成与传输系统

这是一个基于 FPGA 和 Web 技术的综合信号处理与传输系统。项目包含一个功能强大的上位机软件套装（Web前端 + Node.js后端）以及对应的 FPGA 工程文件。

主要用于生成自定义波形或调制信号，并通过以太网（UDP协议）将数据高速传输至 FPGA 开发板进行处理或输出。

## 功能特性

### 1. 手绘波形生成器 (Waveform Generator)
- **自由绘制**：支持在画布上使用鼠标自由绘制任意波形。
- **预设波形**：内置正弦波、方波、三角波、锯齿波、噪声等标准波形。
- **参数可调**：支持自定义采样率（10kHz - 50MHz）、采样点数（最高8M点）、波形周期数。
- **数据导出**：支持导出二进制 (.bin) 和文本 (.txt) 格式，完美适配 FPGA 读取需求。

### 2. 数字调制生成器 (Modulation Generator)
- **多模态支持**：支持 ASK (振幅键控) 和 BPSK (二进制相移键控) 等数字调制方式。
- **参数配置**：可灵活设置载波频率、码元速率、基带序列等参数。
- **实时预览**：所见即所得的波形预览功能。

### 3. UDP 通信助手 (UDP Assistant)
- **高速传输**：基于 WebSocket + Node.js 的高性能 UDP 代理架构。
- **文件分片**：针对 FPGA 接收缓存有限的特点，实现了大文件自动分片发送（每包 8192 字节）。
- **智能检测**：
  - 自动检测物理网线连接状态。
  - 自动校验本地 IP 绑定情况，防止配置错误。
- **双向通信**：支持数据的发送与接收，具备 Hex/Text 多种显示模式。

---

## 目录结构说明

```
climb_intermediate_project/
├── HTML/                       # 上位机软件源码
│   └── signal_synthesis_suite/ # 核心软件套装
│       ├── index.html          # 软件主入口
│       ├── server.js           # Node.js 后端服务器
│       ├── modules/            # 各功能模块源码
│       └── 启动服务器.bat       # 快速启动脚本
├── par/                        # Quartus II 工程文件 (Place & Route)
│   ├── eth_sdram_dac.qpf       # 工程主文件
│   └── ...
├── rtl/                        # Verilog 源码 (Register Transfer Level)
│   ├── eth_sdram_dac.v         # 顶层模块
│   ├── dac_controller.v        # DAC 控制模块
│   └── ...
└── bdf/                        # 原理图文件
```

---

## 快速开始

### 1. 环境准备
- **软件环境**：
  - Node.js (建议 v12.0 或更高版本)
  - Google Chrome 或 Microsoft Edge 浏览器
  - Quartus II 13.0 (用于打开 FPGA 工程)
- **硬件环境**：
  - FPGA 开发板 (需带以太网接口)
  - 网线

### 2. 启动上位机
1. 进入 `HTML/signal_synthesis_suite` 目录。
2. 双击运行 **`启动服务器.bat`**。
   - 此时会弹出一个黑色命令行窗口，显示 `WebSocket server started on port 9000`。
   - **注意**：使用过程中请勿关闭此窗口。
3. 在浏览器中打开 **`index.html`**。
   - 推荐直接将文件拖入浏览器，或双击打开。

### 3. 连接 FPGA
1. 使用网线将电脑与 FPGA 开发板连接。
2. 配置电脑的静态 IP 地址（例如 `192.168.1.10`），确保与 FPGA 在同一网段。
3. 在上位机界面的左侧导航栏选择 **"UDP助手"**。
4. 输入配置信息（本地端口、远程主机IP、远程端口）。
5. 点击 **"连接"** 按钮。
   - 如果连接成功，状态灯将变绿并显示 "本地服务已就绪"。

---

## 注意事项
- **防火墙设置**：首次运行时，Windows 防火墙可能会询问是否允许 Node.js 访问网络，请务必勾选 **"允许访问"** (包括专用网络和公用网络)。
- **IP配置**：请确保电脑的静态 IP 设置正确，否则 UDP 助手会提示 "未检测到本地IP"。
- **浏览器兼容性**：建议使用 Chrome 内核浏览器以获得最佳体验。

---

## 贡献
欢迎提交 Issue 或 Pull Request 来改进本项目。

---
*Last Updated: 2025-11-23*
